# ComfyUI: دليل الإعداد الشامل للكورس

مرحباً بك في دليل الإعداد الشامل لـ ComfyUI. سيقوم دفتر العمل (Notebook) الموجود في هذا المشروع بتجهيز بيئة عمل كاملة وقوية على Google Colab، مع تحميل أحدث النماذج وحل جميع المشاكل الشائعة تلقائيًا.

[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/ahmedyahia01/ComfyUI-Colab/blob/main/ComfyUI_Installer.ipynb)


**ملاحظة هامة:** بعد رفع المشروع، يجب عليك تعديل الرابط أعلاه واستبدال `YOUR_USERNAME` و `YOUR_REPO_NAME` بالاسم الصحيح لمشروعك.

## ⚠️ متطلبات مسبقة (يجب القيام بها قبل البدء)

قبل تشغيل أي كود، هناك **3 خطوات إلزامية** يجب على كل طالب القيام بها مرة واحدة فقط:

### 1. إنشاء حساب Hugging Face
- إذا لم يكن لديك حساب، اذهب إلى [huggingface.co](https://huggingface.co) وقم بإنشاء حساب جديد. إنه مجاني.

### 2. الموافقة على شروط نموذج Stable Diffusion 3
- بعد تسجيل الدخول، اذهب إلى صفحة نموذج Stable Diffusion 3 عبر هذا الرابط:
  [**https://huggingface.co/stabilityai/stable-diffusion-3-medium**](https://huggingface.co/stabilityai/stable-diffusion-3-medium)
- ستجد في أعلى الصفحة اتفاقية ترخيص أو زرًا للموافقة. **يجب عليك تحديد المربعات والضغط على زر "Agree and access repository"**.
- هذا الإجراء ضروري للسماح لحسابك بتحميل النموذج.
![Agree to SD3 Terms](https://i.imgur.com/6s6912O.png)

### 3. إنشاء مفتاح وصول (Access Token)
- بعد الموافقة على الشروط، اذهب إلى صفحة مفاتيح الوصول في إعدادات حسابك:
  [**https://huggingface.co/settings/tokens**](https://huggingface.co/settings/tokens)
- اضغط على **"New token"**، أعطه أي اسم (مثلاً `ComfyUI Colab`) واختر صلاحية **`read`**، ثم اضغط **"Generate a token"**.
- **انسخ هذا المفتاح (يبدأ بـ `hf_...`) واحتفظ به.** سنحتاجه في الخطوة التالية.

## ⚙️ كيفية الاستخدام (خطوات تشغيل الكود)

1.  **افتح الكود في Colab:** اضغط على زر "Open In Colab" في الأعلى.
2.  **حفظ مفتاح الوصول:**
    - في واجهة Colab، اضغط على أيقونة **المفتاح (🔑 Secrets)** في القائمة اليسرى.
    - أضف سرًا جديدًا (Add a new secret).
    - في خانة **Name**، اكتب `HF_TOKEN`.
    - في خانة **Value**، الصق مفتاح الوصول الذي نسخته.
    - تأكد من تفعيل المفتاح لدفتر العمل.
3.  **تشغيل الخلايا بالترتيب:**
    - **قم بتشغيل الخلية رقم 1:** ستقوم بربط Google Drive والتأكد من الإعدادات.
    - **قم بتشغيل الخلية رقم 2:** ستقوم بتثبيت ComfyUI وتحميل كل النماذج والإضافات. **هذه الخلية ستستغرق وقتًا طويلاً جدًا (قد تصل لساعة أو أكثر) في المرة الأولى فقط.**
    - **قم بتشغيل الخلية رقم 3:** ستقوم بتشغيل الخادم وإنشاء رابط عام للوصول إلى واجهة ComfyUI.

## 🚑 حل المشاكل الشائعة

- **"Cannot connect to GPU backend":** هذا يعني أن حصتك المجانية من Colab قد انتهت مؤقتًا. الحل هو الانتظار لمدة 12-24 ساعة ثم المحاولة مرة أخرى.
- **توقف التحميل في المنتصف:** إذا توقف التحميل، قم بإيقاف الخلية وتشغيلها مرة أخرى. الكود مصمم لإكمال التحميل من النقطة التي توقف عندها.
- **"Missing Models" لـ Workflow آخر:** هذا الإعداد يقوم بتثبيت النماذج الأساسية. إذا احتجت نماذج أخرى في المستقبل، يمكنك استخدام `ComfyUI-Manager` الذي سيتم تثبيته تلقائيًا للبحث عنها وتثبيتها بسهولة.

---
هذا المشروع يهدف إلى توفير تجربة سلسة قدر الإمكان. استمتع بالكورس!
